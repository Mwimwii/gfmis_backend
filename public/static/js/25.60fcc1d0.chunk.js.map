{"version":3,"sources":["app/views/pages/Users/UserTable.jsx","app/views/pages/Users/index.jsx"],"names":["selectUsers","state","users","userList","UserTable","dispatch","useDispatch","useSelector","_React$useState","React","useState","_React$useState2","_slicedToArray","selectedRows","setSelectedRows","useEffect","getUsers","navigate","useNavigate","columns","name","label","options","filter","customBodyRender","img","_jsx","Avatar","variant","src","rowsSelected","selectableRowsHideCheckboxes","responsive","viewColumns","Selection","onRowClick","s","console","log","onRowSelectionChange","rowsSelectedData","allRows","onRowsDelete","userIds","map","row","id","deleteUser","handleDeleteRows","_jsxs","Grid","container","padding","rowSpacing","columnSpacing","children","item","xs","sm","md","lg","Button","size","color","onClick","MUIDataTable","title","data","user","_user$role","_user$school","avatar","firstName","lastName","role","email","school","createdAt","Container","styled","_ref","_ref2","theme","margin","_defineProperty","breakpoints","down","marginBottom","Users"],"mappings":"qPAWMA,EAAc,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,UA0G1BC,EAxGG,WAEd,IAAMC,EAAWC,cACXJ,EAAQK,YAAYP,GAC1BQ,EAAwCC,IAAMC,SAAS,IAAGC,EAAAC,YAAAJ,EAAA,GAAnDK,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAEpCF,IAAMM,WAAU,WACZV,EAASW,iBAEV,CAACX,IAEJ,IAAMY,EAAWC,cACXC,EAAU,CACZ,CACIC,KAAM,SACNC,MAAO,QACPC,QAAS,CACLC,QAAQ,EACRC,iBAAkB,SAACC,GACjB,OACEC,cAACC,IAAM,CAACC,QAAQ,UAAUC,IAAKJ,OAM3C,CACIL,KAAM,YACNC,MAAO,aACPC,QAAS,CACLC,QAAQ,IAGhB,CACIH,KAAM,WACNC,MAAO,aACT,CACED,KAAM,OACNC,MAAO,QAEX,CACID,KAAM,QACNC,MAAO,SACT,CACED,KAAM,cACNC,MAAO,gBASTC,EAAU,CACZQ,aAAcjB,EACdkB,8BAA8B,EAC9BC,WAAY,WACZC,aAAa,EACbC,WAAW,EACXC,WAAY,SAACC,GACXC,QAAQC,IAAIF,IAEdG,qBAAsB,SAACC,EAAkBC,EAASX,GAClDhB,EAAgBgB,IAEhBY,aAAc,YAjBO,WACrB,IAAMC,EAAW9B,EAAa+B,KAAI,SAAAC,GAAG,OAAI3C,EAAM2C,GAAKC,MACpDzC,EAAS0C,YAAWJ,EAAQ,KAgBxBK,GACAlC,EAAgB,MAGxB,OACImC,eAACC,IAAI,CAACC,WAAS,EAACC,QAAS,EAAGC,WAAY,IAAKC,cAAe,EAAEC,SAAA,CAC1D7B,cAACwB,IAAI,CAACM,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAEL,SACnC7B,cAACmC,IAAM,CACHC,KAAK,QACLlC,QAAQ,YACRmC,MAAM,UACNC,QAAS,WACL/C,EAAS,eACXsC,SACL,eAKL7B,cAACwB,IAAI,CAACM,MAAI,EAACJ,QAAS,EAAEG,SAClB7B,cAACuC,IAAY,CAACC,MAAO,QAASC,KAAMjE,EAAM0C,KAAI,SAAAwB,GAAS,IAADC,EAAAC,EAClD,MAAO,CACCF,EAAKG,OACLH,EAAKI,UACLJ,EAAKK,UACI,QAATJ,EAAAD,EAAKM,YAAI,IAAAL,OAAA,EAATA,EAAWjD,OAAS,MACpBgD,EAAKO,OACM,QAAXL,EAAAF,EAAKQ,cAAM,IAAAN,OAAA,EAAXA,EAAalD,OAAQ,MACrBgD,EAAKS,UACLT,EAAKtB,OAEb3B,QAASA,EAASG,QAASA,UC3GzCwD,EAAYC,YAAO,MAAPA,EAAc,SAAAC,GAAA,IAAAC,EAAGC,EAAKF,EAALE,MAAK,OAAAD,EAAA,CACtCE,OAAQ,QAAMC,YAAAH,EACbC,EAAMG,YAAYC,KAAK,MAAQ,CAAEH,OAAQ,SAAQC,YAAAH,EAClD,gBAAeG,YAAA,CACbG,aAAc,QACbL,EAAMG,YAAYC,KAAK,MAAQ,CAAEC,aAAc,UAAQN,KAY7CO,UARD,WACZ,OACE9D,cAACoD,EAAS,CAAAvB,SACL7B,cAACtB,EAAS","file":"static/js/25.60fcc1d0.chunk.js","sourcesContent":["\r\n\r\n\r\nimport React from 'react';\r\n// material-ui\r\nimport { Grid, Button, Avatar } from '@mui/material';\r\nimport MUIDataTable from 'mui-datatables';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getUsers, deleteUser } from '../../../redux/actions/UserActions'\r\nimport { useSelector, useDispatch  } from 'react-redux'\r\n\r\nconst selectUsers = state => state.users.userList\r\n\r\nconst UserTable = () => {\r\n    // first get a columns state\r\n    const dispatch = useDispatch() \r\n    const users = useSelector(selectUsers)\r\n    const [selectedRows, setSelectedRows] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getUsers())\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [dispatch])\r\n    \r\n    const navigate = useNavigate();\r\n    const columns = [\r\n        {\r\n            name: 'avatar',\r\n            label: 'Image',\r\n            options: {\r\n                filter: false,\r\n                customBodyRender: (img) => {\r\n                  return (\r\n                    <Avatar variant=\"rounded\" src={img} >\r\n                    </Avatar>\r\n                  )\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'firstName',\r\n            label: 'First Name',\r\n            options: {\r\n                filter: true\r\n              }\r\n        },\r\n        {\r\n            name: 'lastName',\r\n            label: 'Last Name'\r\n        },{\r\n            name: 'role',\r\n            label: 'Role'\r\n        },\r\n        {\r\n            name: 'email',\r\n            label: 'Email'\r\n        },{\r\n            name: 'institution',\r\n            label: 'Institution'\r\n        },\r\n    ];\r\n\r\n    const handleDeleteRows = () => {\r\n        const userIds =  selectedRows.map(row => users[row].id)\r\n        dispatch(deleteUser(userIds[0]))\r\n    }\r\n\r\n    const options = {\r\n        rowsSelected: selectedRows,\r\n        selectableRowsHideCheckboxes: true,\r\n        responsive: 'standard',\r\n        viewColumns: true,\r\n        Selection: false,\r\n        onRowClick: (s) => {\r\n          console.log(s)\r\n        },\r\n        onRowSelectionChange: (rowsSelectedData, allRows, rowsSelected) => {\r\n        setSelectedRows(rowsSelected);\r\n      },\r\n        onRowsDelete: () =>{\r\n            handleDeleteRows();\r\n            setSelectedRows([])\r\n        }\r\n    };\r\n    return (\r\n        <Grid container padding={2} rowSpacing={1.5} columnSpacing={2}>\r\n            <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                <Button\r\n                    size=\"large\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => {\r\n                        navigate('/add-users');\r\n                    }}\r\n                >\r\n                    Add User\r\n                </Button>\r\n            </Grid>\r\n\r\n            <Grid item padding={2}>\r\n                <MUIDataTable title={'Users'} data={users.map(user => {\r\n                    return [\r\n                            user.avatar,\r\n                            user.firstName,\r\n                            user.lastName,\r\n                            user.role?.name  || 'N/A',\r\n                            user.email,\r\n                            user.school?.name || 'N/A',\r\n                            user.createdAt,\r\n                            user.id,\r\n                        ]\r\n                })} columns={columns} options={options} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UserTable;\r\n","\r\nimport {styled } from \"@mui/system\";\r\nimport UserTable from \"./UserTable\";\r\n\r\nconst Container = styled(\"div\")(({ theme }) => ({\r\n  margin: \"30px\",\r\n  [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n  \"& .breadcrumb\": {\r\n    marginBottom: \"30px\",\r\n    [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n  },\r\n}));\r\n\r\nconst Users = () => {\r\n  return (\r\n    <Container>\r\n         <UserTable/>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n"],"sourceRoot":""}