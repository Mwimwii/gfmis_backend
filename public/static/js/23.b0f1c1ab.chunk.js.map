{"version":3,"sources":["app/views/pages/Schools/SchoolTable.jsx","app/views/pages/Schools/index.jsx","app/redux/actions/index.js"],"names":["selectSchools","state","schools","schoolList","SchoolTable","user","useAuth","dispatch","useDispatch","useSelector","_React$useState","React","useState","_React$useState2","_slicedToArray","selectedRows","setSelectedRows","useEffect","getSchools","navigate","useNavigate","columns","name","label","options","filter","customBodyRender","img","_jsx","Avatar","variant","src","rowsSelected","selectableRowsHideCheckboxes","responsive","viewColumns","Selection","onRowClick","s","console","log","onRowSelectionChange","rowsSelectedData","allRows","_jsxs","Grid","container","padding","rowSpacing","columnSpacing","children","item","xs","sm","md","lg","authRoles","sa","includes","role","Button","size","color","onClick","MUIDataTable","title","data","map","school","_school$attributes","_school$attributes2","_school$attributes3","_school$attributes4","_school$attributes4$d","_school$attributes4$d2","_school$attributes4$d3","_school$attributes5","_school$attributes5$d","_school$attributes5$d2","_school$attributes5$d3","_school$attributes5$d4","_school$attributes5$d5","_school$attributes5$d6","attributes","avatar","emisId","district","province","Container","styled","_ref","_ref2","theme","margin","_defineProperty","breakpoints","down","marginBottom","Schools"],"mappings":"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","file":"static/js/23.b0f1c1ab.chunk.js","sourcesContent":["\r\n\r\n\r\nimport React from 'react';\r\n// material-ui\r\nimport { Grid, Button, Avatar } from '@mui/material';\r\nimport MUIDataTable from 'mui-datatables';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getSchools } from '../../../redux/actions'\r\nimport { useSelector, useDispatch  } from 'react-redux'\r\n\r\nimport { authRoles } from 'app/auth/authRoles'\r\nimport useAuth from 'app/hooks/useAuth'\r\n\r\nconst selectSchools = state => state.schools.schoolList\r\n\r\nconst SchoolTable = () => {\r\n    const { user } = useAuth()\r\n    const dispatch = useDispatch() \r\n    const schools = useSelector(selectSchools)\r\n    const [selectedRows, setSelectedRows] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getSchools())\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [dispatch])\r\n    \r\n    const navigate = useNavigate();\r\n    const columns = [\r\n        {\r\n            name: 'avatar',\r\n            label: 'Image',\r\n            options: {\r\n                filter: false,\r\n                customBodyRender: (img) => {\r\n                  return (\r\n                    <Avatar variant=\"rounded\" src={img} >\r\n                    </Avatar>\r\n                  )\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'name',\r\n            label: 'Name',\r\n            options: {\r\n                filter: true\r\n              }\r\n        },\r\n        {\r\n            name: 'emisId',\r\n            label: 'EMIS',\r\n        },\r\n        {\r\n            name: 'district',\r\n            label: 'District'\r\n        },\r\n        {\r\n            name: 'province',\r\n            label: 'Province'\r\n        },\r\n    ];\r\n\r\n    // const handleDeleteRows = () => {\r\n    //     const userIds =  selectedRows.map(row => schools[row].id)\r\n    //     dispatch(deleteUser(userIds[0]))\r\n    // }\r\n\r\n    const options = {\r\n        rowsSelected: selectedRows,\r\n        selectableRowsHideCheckboxes: true,\r\n        responsive: 'simple',\r\n        viewColumns: true,\r\n        Selection: false,\r\n        onRowClick: (s) => {\r\n          console.log(s)\r\n        },\r\n        onRowSelectionChange: (rowsSelectedData, allRows, rowsSelected) => {\r\n        setSelectedRows(rowsSelected);\r\n      },\r\n        // onRowsDelete: () =>{\r\n        //     handleDeleteRows();\r\n        //     setSelectedRows([])\r\n        // }\r\n    };\r\n    return (\r\n        <Grid container padding={2} rowSpacing={1.5} columnSpacing={2}>\r\n            <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                { authRoles.sa.includes(user.role) && (<Button\r\n                                size=\"large\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => {\r\n                                    navigate('/add-schools');\r\n                                }}\r\n                            >\r\n                                Add School\r\n                            </Button>)}\r\n\r\n            </Grid>\r\n\r\n            <Grid item padding={2}>\r\n                <MUIDataTable title={'Schools'} data={schools.map(school => {\r\n                    return [\r\n                            school?.attributes?.avatar,\r\n                            school?.attributes?.emisId,\r\n                            school?.attributes?.name,\r\n                            school?.attributes?.district?.data?.attributes?.name,\r\n                            school?.attributes?.district?.data?.attributes?.province?.data?.attributes?.name,\r\n                        ]\r\n                })} columns={columns} options={options} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default SchoolTable;\r\n","\r\nimport {styled } from \"@mui/system\";\r\nimport SchoolTable from \"./SchoolTable\";\r\n\r\nconst Container = styled(\"div\")(({ theme }) => ({\r\n  margin: \"30px\",\r\n  [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n  \"& .breadcrumb\": {\r\n    marginBottom: \"30px\",\r\n    [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n  },\r\n}));\r\n\r\nconst Schools = () => {\r\n  return (\r\n    <Container>\r\n         <SchoolTable/>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Schools;\r\n\r\n","export * from './UserActions';\r\nexport * from './SchoolActions'\r\nexport * from './ModuleActions'\r\nexport * from './NavigationActions'\r\nexport * from './BeneficiaryActions'\r\nexport * from './CSEActions'"],"sourceRoot":""}