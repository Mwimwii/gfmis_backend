{"version":3,"sources":["app/views/pages/EnrollCSEForm/EnrollForm.jsx","app/views/pages/EnrollCSEForm/index.jsx","app/hooks/useTitle.js"],"names":["columns","field","headerName","width","CSEEnrollmentForm","_useState","useState","_useState2","_slicedToArray","state","setState","_useState3","useAuth","user","_useState4","loading","setLoading","enqueueSnackbar","useSnackbar","useTitle","dispatch","useDispatch","_useState5","paddingTop","isMobile","paddingTopUnder","paddingTopUnderSelect","marginTop","spacing","navigate","useNavigate","_useState7","id","firstName","lastName","_useState8","cseStudents","_jsx","children","_jsxs","ValidatorForm","onSubmit","enrollCSE","setTimeout","variant","onError","Divider","style","Grid","container","item","lg","md","sm","xs","sx","mt","paddingBottom","height","DataGrid","rows","pageSize","rowsPerPageOptions","checkboxSelection","onSelectionModelChange","selectedRows","console","log","_objectSpread","students","Button","color","type","disabled","Span","textTransform","CircularProgress","margin","Container","styled","_ref","_ref2","theme","_defineProperty","breakpoints","down","marginBottom","EnrollCSEForm","Stack","SimpleCard","title","EnrollForm","useEffect","document"],"mappings":"mUAsBMA,EAAU,CACd,CAAEC,MAAO,KAAMC,WAAY,KAAMC,MAAO,IACxC,CAAEF,MAAO,YAAaC,WAAY,aAAcC,MAAO,KACvD,CAAEF,MAAO,WAAYC,WAAY,YAAaC,MAAO,MA+FxCC,EA3FW,WACxB,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAGtBI,GAFiBC,cAATC,KAEsBP,oBAAS,IAAMQ,EAAAN,YAAAG,EAAA,GAAtCI,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAClBG,EAAoBC,cAApBD,gBACRE,YAAS,sBACT,IAAMC,EAAWC,cACjBC,EAAoBhB,mBAAS,CAC3BiB,WAAYC,cAAa,OAAS,OAClCC,gBAAiB,OACjBC,sBAAuBF,cAAa,OAAS,OAC7CG,UAAWH,cAAa,EAAI,IAJtBI,EAKNpB,YAAAc,EAAA,GALa,GAMTO,EAAWC,cAWjBC,EAAsCzB,mBAAS,CAAC,CAAC0B,GAAI,IAAKC,UAAW,GAAIC,SAAU,MAAMC,EAAA3B,YAAAuB,EAAA,GAAlFK,EAAWD,EAAA,GAAgBA,EAAA,GAqClC,OACEE,cAAA,OAAAC,SAEEC,eAACC,gBAAa,CAACC,SAjDE,WACnBrB,EAASsB,YAAUjC,IACnBkC,YAAW,WACX1B,EAAgB,iCAAkC,CAAE2B,QAAS,YAC7Df,EAAS,QACTb,GAAW,KACV,MA2CwC6B,QAAS,kBAAM,MAAKP,SAAA,CAC3DD,cAACS,IAAO,CAACC,MAAO,CAACpB,UAAW,SAC5BU,cAACW,IAAI,CAACC,WAAS,EAACrB,QAAS,EAAEU,SACrBD,cAACW,IAAI,CAACE,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,CAAEC,GAAI,GAAMT,MAAO,CAACU,cAAe,OAAQlC,WAAYK,EAAQL,WAAYmC,OAAQ,KAAKpB,SACtID,cAACsB,IAAQ,CACPC,KAAMxB,EACNpC,QAASA,EACT6D,SAAU,EACVC,mBAAoB,CAAC,GACrBC,mBAAiB,EACjBC,uBAAwB,SAACC,GACvBC,QAAQC,IAAIF,GACZvD,EAAQ0D,wBAAC,GAAK3D,GAAK,IAAE4D,SAAUJ,YAMzC5B,cAACiC,IAAM,CAACC,MAAM,UAAU3B,QAAQ,YAAY4B,KAAK,SAASC,SAAU1D,EAAQuB,SAC1ED,cAACqC,IAAI,CAACnB,GAAI,CAAEoB,cAAe,cAAerC,SAAEvB,EAAWsB,cAACuC,IAAgB,CAAC7B,MAAO,CAAE8B,OAAQ,OAAQnB,OAAQ,GAAIvD,MAAO,GAAIoE,MAAO,WAAe,mBC3GjJO,EAAYC,YAAO,MAAPA,EAAc,SAAAC,GAAA,IAAAC,EAAGC,EAAKF,EAALE,MAAK,OAAAD,EAAA,CACtCJ,OAAQ,QAAMM,YAAAF,EACbC,EAAME,YAAYC,KAAK,MAAQ,CAAER,OAAQ,SAAQM,YAAAF,EAClD,gBAAeE,YAAA,CACbG,aAAc,QACbJ,EAAME,YAAYC,KAAK,MAAQ,CAAEC,aAAc,UAAQL,KAgB7CM,UAZO,WACpB,OACElD,cAACyC,EAAS,CAAAxC,SACTD,cAACmD,IAAK,CAAC5D,QAAS,EAAEU,SACfD,cAACoD,IAAU,CAACC,MAAM,sBAAqBpD,SACrCD,cAACsD,EAAU,Y,iCCpBrB,6CAGaxE,EAAW,SAACuE,GACxBE,qBAAU,WACTC,SAASH,MAAQ,QAAUA,IACzB,CAACA","file":"static/js/20.28912d8f.chunk.js","sourcesContent":["\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Divider,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport { DataGrid } from '@mui/x-data-grid';\r\n\r\nimport useAuth from 'app/hooks/useAuth'\r\nimport { useSnackbar } from 'notistack';\r\nimport { Span } from \"app/components/Typography\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { ValidatorForm } from \"react-material-ui-form-validator\";\r\nimport { isMobile } from '../../../utils/utils'\r\nimport { useTitle } from '../../../hooks/useTitle'\r\nimport { enrollCSE } from '../../../redux/actions/CSEActions'\r\nimport { useDispatch  } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport axiosInstance from \"axios\";\r\n\r\nconst columns = [\r\n  { field: 'id', headerName: 'ID', width: 70 },\r\n  { field: 'firstName', headerName: 'First Name', width: 130 },\r\n  { field: 'lastName', headerName: 'Last Name', width: 130 },\r\n  // { field: 'grade', headerName: 'Grade', width: 130, type: 'number'},\r\n]\r\n\r\nconst CSEEnrollmentForm = () => {\r\n  const [state, setState] = useState({});\r\n  const { user } = useAuth()\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  useTitle(': Attendence Sheet')\r\n  const dispatch = useDispatch()\r\n  const [ spacing ] = useState({\r\n    paddingTop: isMobile() ? '12px' : '24px',\r\n    paddingTopUnder: '12px',\r\n    paddingTopUnderSelect: isMobile() ? '28px' : '12px',\r\n    marginTop: isMobile() ? 0 : 4\r\n  })\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = () => {\r\n    dispatch(enrollCSE(state))\r\n    setTimeout(() => {\r\n    enqueueSnackbar('Students successfully enrolled', { variant: 'success'})\r\n    navigate('/cse')\r\n    setLoading(false)\r\n  }, 500)\r\n  };\r\n\r\n  const [cseStudents, setCSEStudents] = useState([{id: '1', firstName: '', lastName: '' }])\r\n\r\n  //     useEffect(() => {\r\n      //   if(cseStudents.length === 1){\r\n  //       axiosInstance.get(`${process.env.REACT_APP_BACKEND}api/cses/${cseId}?populate[0]=students.user&populate[1]=students.grade`)\r\n  //           .then(res => res.data)\r\n  //           .then(({data}) => {\r\n  //               console.log(data)\r\n  //               setDataList(\r\n  //               data.attributes.students.data.map(student => ({\r\n  //                   id: student?.id,\r\n  //                   firstName: student?.attributes?.user?.data?.attributes?.firstName,\r\n  //                   lastName: student?.attributes?.user?.data?.attributes?.lastName,\r\n  //                   grade: student?.attributes?.grade?.data?.attributes?.name\r\n  //               }))\r\n  //           )}\r\n  //           )\r\n  //           .catch(err => console.log(err))}\r\n  //     }, [cseStudents.length])\r\n\r\n \r\n  // useEffect(() => {\r\n  //   if(cseStudents.length === 1){\r\n  //     axiosInstance.get(`/api/cse-students?id=${user.schoolId}&cse=false`)\r\n  //          .then(({data}) => {\r\n  //            setCSEStudents(data)\r\n  //            setState({...state,\r\n  //             totalRegistered: data.length,\r\n  //             schoolId: user.schoolId,\r\n  //             teacherId: user.id,\r\n  //             date: new Date().toISOString().slice(0, 10)\r\n  //           })\r\n  //         })\r\n  //   }\r\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // },[cseStudents.length])\r\n\r\n  return (\r\n    <div>\r\n  \r\n      <ValidatorForm onSubmit={handleSubmit} onError={() => null}>\r\n      <Divider style={{marginTop: '8px'}} />\r\n      <Grid container spacing={6}>\r\n            <Grid item lg={12} md={6} sm={12} xs={12} sx={{ mt: 4 }}  style={{paddingBottom: '10px', paddingTop: spacing.paddingTop, height: 350}}>\r\n            <DataGrid\r\n              rows={cseStudents}\r\n              columns={columns}\r\n              pageSize={5}\r\n              rowsPerPageOptions={[5]}\r\n              checkboxSelection\r\n              onSelectionModelChange={(selectedRows) => {\r\n                console.log(selectedRows)\r\n                setState({ ...state, students: selectedRows})\r\n              }}\r\n            />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Button color=\"primary\" variant=\"contained\" type=\"submit\" disabled={loading}>\r\n        <Span sx={{ textTransform: \"capitalize\" }}>{loading ? (<CircularProgress style={{ margin: 'auto', height: 15, width: 15, color: 'white'}}/>) : 'Submit'}</Span>\r\n      </Button>\r\n      </ValidatorForm>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CSEEnrollmentForm;\r\n\r\n","import { Stack } from \"@mui/material\";\r\nimport {styled } from \"@mui/system\";\r\nimport { SimpleCard } from \"app/components\";\r\n\r\nimport EnrollForm from \"./EnrollForm\"\r\n\r\nconst Container = styled(\"div\")(({ theme }) => ({\r\n  margin: \"30px\",\r\n  [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n  \"& .breadcrumb\": {\r\n    marginBottom: \"30px\",\r\n    [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n  },\r\n}));\r\n\r\nconst EnrollCSEForm = () => {\r\n  return (\r\n    <Container>\r\n     <Stack spacing={3}>\r\n        <SimpleCard title=\"CSE: Enroll Student\">\r\n          <EnrollForm />\r\n        </SimpleCard>\r\n      </Stack>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EnrollCSEForm;\r\n","import { useEffect } from 'react'\r\n\r\n\r\nexport const useTitle = (title) => {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'GFMIS' + title;\r\n\t}, [title])\r\n}"],"sourceRoot":""}